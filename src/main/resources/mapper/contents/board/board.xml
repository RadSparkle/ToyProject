<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.toyproject.api.contents.board.mapper.BoardMapper">
   <select id="getBoardList" resultType="com.toyproject.api.contents.board.dto.BoardDto$boardList" parameterType="com.toyproject.api.contents.board.dto.BoardDto$boardList">
       SELECT bid AS bid
            , b_seq AS bSeq
            , title AS title
            , views AS views
            , cmt_count AS cmtCount
            , is_use AS isUse
            , reg_dt AS regDt
        FROM toy_cont.board
        WHERE bid = #{bid}
        ORDER BY b_seq ASC
   </select>

    <select id="getBoardCount" resultType="HashMap" parameterType="com.toyproject.api.contents.board.dto.BoardDto$boardList">
        SELECT COUNT(*) AS boardCount
        FROM toy_cont.board
        WHERE bid = #{bid}
    </select>

    <insert id="insertBoard" parameterType="com.toyproject.api.contents.board.dto.BoardDto$boardInfo">
        INSERT
        INTO toy_cont.board_info (pid, bid, uid, nickname, b_link, img_link, is_notice, is_use, b_contents)
        VALUES (#{pid}, #{bid}, #{uid}, #{nickname}, #{bLink}, #{imgLink}, #{isNotice}, #{isUse}, #{bContents})
    </insert>

    <insert id="insertBoardInfo" parameterType="com.toyproject.api.contents.board.dto.BoardDto$boardInfo">
        INSERT
        INTO toy_cont.board (bid, title)
        VALUES (#{bid}, #{title})
    </insert>

</mapper>